####### Data pipeline ##########
[processing-cluster-kafka-1]
11.4.2.73

[processing-cluster-kafka-2]
11.4.2.74

[processing-cluster-kafka-3]
11.4.2.75

[processing-cluster-kafka:children]
processing-cluster-kafka-1
processing-cluster-kafka-2
processing-cluster-kafka-3

[processing-cluster-zookeepers-1]
11.4.2.76

[processing-cluster-zookeepers-2]
11.4.2.77

[processing-cluster-zookeepers-3]
11.4.2.78

[zookeeper:children]
processing-cluster-zookeepers-1
processing-cluster-zookeepers-2
processing-cluster-zookeepers-3

####################################

[swarm-manager-1]
#11.4.1.11 swarm_master=true

[swarm-manager-2]
#11.4.1.12

[swarm-manager-3]
#11.4.1.13

[swarm-manager:children]
swarm-manager-1
swarm-manager-2
swarm-manager-3


[keycloak-1]
11.4.3.18 ansible_ssh_port=2200

[keycloak-2]
11.4.3.22 ansible_ssh_port=2200

[keycloak-3]
11.4.3.26 ansible_ssh_port=2200

[keycloak-4]
11.4.3.25 ansible_ssh_port=2200

[keycloak:children]
keycloak-1
keycloak-2
keycloak-3
keycloak-4

[redis-exporter-targets:children]
dp-redis-1
dp-redis-metadata
lp-redis
redisall
nodebb-azure-redis

[nodebb-azure-redis]
11.4.2.54

[dp-redis-metadata]
11.4.2.31

[redis-nodebb]
11.4.2.88

[redisall:children]
redis-nodebb



### Gray log Intro ##
[log-es-1]
11.4.2.100 node_name=log-es-1 es_instance_name=log-es-1 es_etc_node_master=true es_etc_node_data=true

[log-es-2]
11.4.2.101 node_name=log-es-2 es_instance_name=log-es-2 es_etc_node_master=true es_etc_node_data=true

[log-es-3]
11.4.2.103 node_name=log-es-3 es_instance_name=log-es-3 es_etc_node_master=true es_etc_node_data=true

[log-es-4]
11.4.2.106 node_name=log-es-4 es_instance_name=log-es-4 es_etc_node_master=true es_etc_node_data=true

[log-es-5]
11.4.2.107 node_name=log-es-5 es_instance_name=log-es-5 es_etc_node_master=true es_etc_node_data=true
[log-es-6]
11.4.2.22 node_name=log-es-6 es_instance_name=log-es-6 es_etc_node_master=true es_etc_node_data=true

[log-es-7]
11.4.2.23 node_name=log-es-7 es_instance_name=log-es-7 es_etc_node_master=true es_etc_node_data=true

[log-es-8]
11.4.2.24 node_name=log-es-8 es_instance_name=log-es-8 es_etc_node_master=true es_etc_node_data=true

[log-es-9]
11.4.2.28 node_name=log-es-9 es_instance_name=log-es-9 es_etc_node_master=true es_etc_node_data=true

[log-es-10]
11.4.2.29 node_name=log-es-10 es_instance_name=log-es-10 es_etc_node_master=true es_etc_node_data=true

[log-es-11]
11.4.2.32 node_name=log-es-11 es_instance_name=log-es-11 es_etc_node_master=true es_etc_node_data=true

[log-es-12]
11.4.2.33 node_name=log-es-12 es_instance_name=log-es-12 es_etc_node_master=true es_etc_node_data=true

[log-es-13]
11.4.2.37 node_name=log-es-13 es_instance_name=log-es-13 es_etc_node_master=true es_etc_node_data=true

[log-es-14]
11.4.2.38 node_name=log-es-14 es_instance_name=log-es-14 es_etc_node_master=true es_etc_node_data=true

[log-es-15]
11.4.2.39 node_name=log-es-15 es_instance_name=log-es-15 es_etc_node_master=true es_etc_node_data=true

[log-es-6]
11.4.2.22 node_name=log-es-6 es_instance_name=log-es-6 es_etc_node_master=true es_etc_node_data=true

[log-es-7]
11.4.2.23 node_name=log-es-7 es_instance_name=log-es-7 es_etc_node_master=true es_etc_node_data=true

[log-es-8]
11.4.2.24 node_name=log-es-8 es_instance_name=log-es-8 es_etc_node_master=true es_etc_node_data=true

[log-es-9]
11.4.2.28 node_name=log-es-9 es_instance_name=log-es-9 es_etc_node_master=true es_etc_node_data=true

[log-es-10]
11.4.2.29 node_name=log-es-10 es_instance_name=log-es-10 es_etc_node_master=true es_etc_node_data=true

[log-es-11]
11.4.2.32 node_name=log-es-11 es_instance_name=log-es-11 es_etc_node_master=true es_etc_node_data=true

[log-es-12]
11.4.2.33 node_name=log-es-12 es_instance_name=log-es-12 es_etc_node_master=true es_etc_node_data=true

[log-es-13]
11.4.2.37 node_name=log-es-13 es_instance_name=log-es-13 es_etc_node_master=true es_etc_node_data=true

[log-es-14]
11.4.2.38 node_name=log-es-14 es_instance_name=log-es-14 es_etc_node_master=true es_etc_node_data=true

[log-es-15]
11.4.2.39 node_name=log-es-15 es_instance_name=log-es-15 es_etc_node_master=true es_etc_node_data=true

[log-es:children]
log-es-1
log-es-2
log-es-3
log-es-4
log-es-5
log-es-6
log-es-7
log-es-8
log-es-9
log-es-10
log-es-11
log-es-12
log-es-13
log-es-14
log-es-15

[graylog-1]
11.4.2.102 mongodb_master=True graylog_is_master=True

[graylog-2]
11.4.2.104 mongodb_master=False graylog_is_master=False

[graylog-3]
11.4.2.105 mongodb_master=False graylog_is_master=False

[graylog-4]
11.4.2.19 mongodb_master=False graylog_is_master=False

[graylog-5]
11.4.2.20 mongodb_master=False graylog_is_master=False

[graylog-6]
11.4.2.21 mongodb_master=False graylog_is_master=False

[graylog:children]
graylog-1
graylog-2
graylog-3
graylog-4
graylog-5
graylog-6

#[mongo_master]
#11.4.2.97 mongodb_master=True mongo_backup_azure_container_name=mongodump-discussions

#[mongo_replicas] #add ip in case replicaSet

[mongo:children]
mongo_master
#mongo_replicas

[mongodb-backup:children]
mongo_master
sl-db-server

[swarm-agent-for-prometheus-1] 
#11.4.0.44

[swarm-agent-for-prometheus:children]
swarm-agent-for-prometheus-1

[swarm-agent-for-alertmanager-1] 
#11.4.0.45

[swarm-node-1]
#11.4.0.44

[swarm-node-2]
#11.4.0.45

[swarm-node-3]
#11.4.0.46

[swarm-node-4]
#11.4.0.47

[swarm-node-5]
#11.4.0.48

[swarm-node-6]
#11.4.0.49

[swarm-node-7]
#11.4.0.56

[swarm-node-8]
#11.4.0.57

[swarm-node-9]
#11.4.0.59

[swarm-dashboard-1]
11.4.3.40

[swarm-dashboard:children]
swarm-dashboard-1

[swarm-agent-dashboard-1]
11.4.3.40

[swarm-worker:children]
swarm-node-1
swarm-node-2
swarm-node-3
swarm-node-4
swarm-node-5
swarm-node-6
swarm-node-7
swarm-node-8
swarm-node-9

[swarm-agent-dashboard:children]
swarm-agent-dashboard-1

[swarm-agent-for-prometheus-stateful:children]
swarm-agent-dashboard

[alertmanager_stateful:children]
swarm-agent-dashboard

[alertmanager]
11.4.1.4
#11.4.1.11

[es-1] 
11.4.2.6 es_instance_name=es-1 es_etc_node_master=true es_etc_node_data=true

[es-2]
11.4.2.9 es_instance_name=es-2 es_etc_node_master=true es_etc_node_data=true

[es-3]
11.4.2.10 es_instance_name=es-3 es_etc_node_master=true es_etc_node_data=true

[es-backup:children]
es-1

[log-es-backup:children]
log-es-1

[es:children]
es-1
es-2
es-3

[composite-search-cluster]
11.4.2.15
11.4.2.16
11.4.2.17

[process-exporter-prometheus:children]
basic-monitor

[cassandra-1]
11.4.2.11

[cassandra-2]
11.4.2.26

[cassandra-3]
11.4.2.27

[cassandra-4]
11.4.2.89

[cassandra-5]
11.4.2.90

[cassandra-6]
11.4.2.98

[cassandra-7]
11.4.2.92

[cassandra-8]
11.4.2.12

[cassandra-9]
11.4.2.13

[cassandra-10]
11.4.2.14

[cassandra-11]
11.4.2.18

[cassandra:children]
cassandra-1
cassandra-2
cassandra-3
cassandra-4
cassandra-5
cassandra-6
cassandra-7
cassandra-8
cassandra-9
cassandra-10
cassandra-11

[lp-cassandra]
11.4.2.11
11.4.2.26
11.4.2.27
11.4.2.89
11.4.2.90
11.4.2.92
11.4.2.98
11.4.2.12
11.4.2.13
11.4.2.14
11.4.2.18

[dp-cassandra]
11.4.2.30

[cassandra-ps:children]
dp-cassandra

[report-cassandra]
11.4.2.99

[logstash-ps:children]
dp-apilogstash-ps

[dp-apilogstash-ps]
#11.4.3.10
#11.4.3.15

[learning-neo4j-node1]
11.4.2.41 ansible_ssh_port=2200

[learning-neo4j-node2]
11.4.2.42 ansible_ssh_port=2200

[arbiter] ##learning-neo4j-node3
11.4.2.43 dbms_mode=ARBITER ansible_ssh_port=2200

[learning-neo4j-cluster:children]
learning-neo4j-node1
learning-neo4j-node2
arbiter  ##master

#[postgresql-master-1] 
#productionall-lms.postgres.database.azure.com

[postgresql-master:children]
postgresql-master-1

#[postgresql-slave-1] 
#productionall-lms.postgres.database.azure.com

[postgresql-slave:children]
postgresql-slave-1

[postgres:children]
postgresql-slave
postgresql-master

[lp-redis]
11.4.2.40 ansible_ssh_port=2200

[lp-redis-ps:children]
lp-redis




[prod-bastion]    
11.4.0.29 ansible_ssh_user=ops ansible_ssh_private_key_file=/var/lib/jenkins/secrets/prodops_ssh_key skip_basic_monitoring=true

[prod-k8s-bastion]
11.4.0.75


[raw-coordinator]
11.4.3.41

[ingestion-cluster-kafka]
11.4.2.73
11.4.2.74
11.4.2.75

[ingestion-cluster-zookeeper]
11.4.2.76
11.4.2.77
11.4.2.78

[kafka:children]
kafka-1
kafka-2
kafka-3
kafka-4
kafka-5
kafka-6
kafka-7

[kafka:vars]
skip_basic_monitoring=true

[yarn-master]
11.4.3.4

[yarn-slave]
11.4.3.5
11.4.3.6
11.4.3.7
11.4.3.8
11.4.3.9

[yarn:children]
yarn-master
yarn-slave

#[local]            #( Added below from the swamrm-1)
#localhost

[db-restore]
10.2.6.4
10.2.6.5
10.2.6.6

[sl-app-server]
10.2.10.4

[sl-db-server]
10.2.10.5 mongo_backup_azure_container_name=mongodump-sikshalokam

[sl-py-spark]
11.4.3.74

[local]
localhost ansible_connection=local cluster_name=Kubernetes-1

[swarm-agent-for-alertmanager:children]
swarm-agent-for-alertmanager-1

[kong-api]
localhost

[jenkins]
10.20.0.9

[jenkins-master]
10.20.0.9

[raw-broker] 
11.4.0.53   #### IP of rollup-broker

[swarm-bootstrap-manager:children]
swarm-manager

[swarm-nodes:children]
swarm-manager
swarm-bootstrap-manager
swarm-agent-for-prometheus
swarm-agent-for-alertmanager
swarm-worker

[log-forwarder:children]
swarm-manager

[secor-1]
11.4.3.65

[secor-2]
11.4.3.66

[secor-3]
11.4.3.67

[sl-druid] # coordinator IP druid
11.4.3.41

[sl-druid-broker] # broker IP druid
11.4.3.41

[mongo_master]
10.2.10.5

[ml-analytics-service]
11.4.2.64 ansible_ssh_port=2200 # Managed Learn Analytics VM

########################################################### Monitoring ########################################

[lp-neo4j-ps]
11.4.2.41 ansible_ssh_port=2200
11.4.2.42 ansible_ssh_port=2200
11.4.2.43 ansible_ssh_port=2200

[dp-influx-ps]
11.4.2.7

[dp-redis-1]
11.4.2.57 ansible_ssh_port=2200

[redis-metadata]
11.4.2.31         #redis-dp-metatdata

#[dp-druid-ps]

#[dp-superset-ps]
#11.5.2.10

[dp-analytics-ps]
11.4.3.10
#11.4.3.15

[dp-yarn-rm-ps]
11.4.3.4
#11.4.3.34  #dp-yarn-rm

[dp-yarn-slave-ps]
11.4.3.5
11.4.3.6
11.4.3.7
11.4.3.8
11.4.3.9
11.4.3.24
11.4.3.58
11.4.3.59


[operation-host-ms]
11.4.2.50
11.4.0.75
#11.4.0.5
26.0.0.5
26.0.0.6
11.4.2.58

[videowiki-ms]
##10.2.10.7
10.2.10.5
10.2.10.6
10.2.10.4
#10.2.14.4

[dial-ms]
#11.4.3.54
#11.4.3.55

[hawkeye-ms]
10.2.13.4

[superset-ms]
25.0.0.4

[druid-ms]
11.4.3.23
11.4.3.33
11.4.0.58
11.4.0.54
11.4.3.46
24.0.0.6
11.4.2.58

[pisa-dashboard-ms]
10.2.9.9

[redis-metadata2]
11.4.2.58 ansible_ssh_port=2200

#[redis-kp]
#11.4.2.86

[secor-1-ps]
11.4.3.65

[secor-2-ps]
11.4.3.66

[secor-3-ps]
11.4.3.67

[lp-composite-ps]
11.4.2.15
11.4.2.16
11.4.2.17

[dp-spark-ps]
11.4.3.6
11.4.3.7
11.4.3.8

[dp-kafkaindexer-ps]
11.4.2.25
11.4.2.44   #processing-kafka-indexer-1

[lp-search-ps]
#11.4.3.18
#11.4.3.19

[lp-learning-ps]
11.4.3.27 ansible_ssh_port=2200
11.4.3.31 ansible_ssh_port=2200

[dp-cassandra]
11.4.2.30

[dp-redis]
#11.4.2.4
11.4.2.58 ansible_ssh_port=2200

[dp-processing-kafka-1-ps] #parallel pipeline kafka
11.4.2.73

[dp-processing-kafka-2-ps] #parallel pipeline kafka
11.4.2.74

[dp-processing-kafka-3-ps] #parallel pipeline kafka
11.4.2.75

[data-spark]
11.4.3.48

[redis-ps:children]
dp-redis-1
dp-redis-metadata
lp-redis

[flink-processing-cluster-kafka-ps]
11.4.2.45 ansible_ssh_port=2200
11.4.2.46 ansible_ssh_port=2200
11.4.2.47 ansible_ssh_port=2200
11.4.2.48 ansible_ssh_port=2200
11.4.2.49 ansible_ssh_port=2200

[flink-processing-cluster-kafka:children]
flink-processing-cluster-kafka-ps

[processing-cluster-kafka-ps:children]
dp-processing-kafka-1-ps
dp-processing-kafka-2-ps
dp-processing-kafka-3-ps
processing-cluster-kafka-1
processing-cluster-kafka-2
processing-cluster-kafka-3
processing-cluster-kafka-4
processing-cluster-kafka-5

[processing-cluster-zookeepers-ps]
11.4.2.51 ansible_ssh_port=2200
11.4.2.52 ansible_ssh_port=2200
11.4.2.53 ansible_ssh_port=2200


[ingestion-cluster-zookeepers-ps]
11.4.2.76
11.4.2.77
11.4.2.78

[basic-monitor:children]
lp-redis-ps
cassandra
jenkins
es
log-es
lp-neo4j-ps
dp-influx-ps
swarm-dashboard
processing-cluster-kafka-ps
keycloak
yarn
kafka
dp-spark-ps
dp-analytics-ps
dp-redis
lp-search-ps
lp-learning-ps
dp-cassandra
druid-zookeeper-ps
overlord-ps
coordinator-ps
historical-ps
raw-druid-graphite-ps
broker-ps
dp-redis-1
middlemanager-ps
rollup-graphite-ps
rollup-router-ps
data-spark
flink-processing-cluster-kafka
flink-processing-cluster-zookeepers-ps
zookeeper-ps
redis-ps
zookeeper
pisa-dashboard-ms
druid-ms
superset-ms
hawkeye-ms
#dial-ms
videowiki-ms
operation-host-ms
composite-search-cluster
redis-metadata2
mongo
report-cassandra
sl-app-server
sl-db-server
sl-py-spark
graylog

# monitor tomcat process
[tomcat-ps:children]
lp-learning-ps

# monitor serach process
[search-ps:children]
lp-search-ps

# monitor neo4j process
[neo4j-ps:children]
dp-neo4j-ps

# monitor elasticsearch process
[es-ps:children]
log-es
lp-composite-ps
es

# monitor keycloak process
[keycloak-ps:children]
keycloak

# monitor yarn process
[yarn-rm-ps:children]
dp-yarn-rm-ps

[yarn-slave-ps:children]
dp-yarn-slave-ps

# monitor cassandra process
[cassandra-ps:children]
cassandra

# monitor logstash process  # learning, search, neo4j, kafkaindexer
[logstash-ps:children]
lp-learning-ps
lp-search-ps
lp-neo4j-ps
dp-kafkaindexer-ps

# monitor analytics process
[analytics-ps:children]
dp-analytics-ps

# monitor kafka process
[kafka-ps:children]
dp-processing-kafka-1-ps
dp-processing-kafka-2-ps
dp-processing-kafka-3-ps
dp-processing-kafka-4-ps
dp-processing-kafka-5-ps
dp-kafka-ps
kafka-1
kafka-2
kafka-3
kafka-4
kafka-5
kafka-6
kafka-7
flink-processing-cluster-kafka-ps

# monitor druid process
[druid-zookeeper-ps:children]
raw-druid-zookeeper-ps
rollup-zookeeper-ps

[zookeeper-ps:children]
ingestion-cluster-zookeepers-ps
processing-cluster-zookeepers-ps
flink-processing-cluster-zookeepers-ps

[overlord-ps:children]
raw-overlord-ps
rollup-overlord-ps

[coordinator-ps:children]
rollup-coordinator-ps
raw-coordinator-ps

[historical-ps:children]
raw-historical-ps
rollup-historical-ps
   
[broker-ps:children]
raw-broker-ps
rollup-broker-ps

[middlemanager-ps:children]
raw-middlemanager-ps
rollup-middlemanager-ps

[raw-druid-zookeeper-ps]
11.4.3.70
11.4.3.71
11.4.3.72

[flink-processing-cluster-zookeepers-ps]
11.4.2.66
11.4.2.67
11.4.2.68

[flink-processing-cluster-zookeepers:children]
flink-processing-cluster-zookeepers-ps

# monitor postgres process
#[druid-postgres-ps:children]

# monitor overlord process
[raw-overlord-ps]
11.4.3.41

# monitor coordinator process
[raw-coordinator-ps]
11.4.3.41

# monitor historical process
[raw-historical-ps]
#11.4.3.43
#11.4.3.44
11.4.3.27
#11.4.3.53
11.4.3.60
11.4.3.61
11.4.3.62
#11.4.3.63
11.4.3.73

# monitor druid graphite process
[raw-druid-graphite-ps] # check once
11.4.3.41

# monitor druid broker process
[raw-broker-ps]
11.4.3.41

# monitor middlemanager process
[raw-middlemanager-ps]
11.4.3.42
11.4.3.23
11.4.3.33
11.4.3.75

[rollup-zookeeper-ps]
11.4.0.8
11.4.0.9
11.4.0.10

[rollup-graphite-ps]
11.4.0.53

[rollup-overlord-ps]
11.4.0.53

[rollup-coordinator-ps]
11.4.0.53

[rollup-historical-ps]
11.4.0.51 
11.4.0.77 
11.4.0.66
11.4.0.4
11.4.0.7
11.4.0.11

[rollup-middlemanager-ps]
11.4.0.52
11.4.3.10
11.4.0.54
11.4.0.58
11.4.0.6

[rollup-broker-ps]
11.4.0.53

[rollup-router-ps]
11.4.0.53

[redis-metadata-ps]
11.4.2.58 ansible_ssh_port=2200

[druid] # Added this to scrape the druid graphite exporter metrics
11.4.3.41
11.4.3.60
11.4.3.61
11.4.3.62
#11.4.3.63
11.4.3.42
11.4.3.23
11.4.3.33 
11.4.0.51
11.4.0.52
11.4.0.53
11.4.0.54
11.4.0.58

# process exporter monitoring group
[process-exporter:children]
es-ps
yarn-ps
cassandra-ps
logstash-ps
analytics-ps
kafka-ps
druid-zookeeper-ps
overlord-ps
coordinator-ps
historical-ps
raw-druid-graphite-ps
broker-ps
middlemanager-ps
rollup-graphite-ps
rollup-router-ps
processing-cluster-kafka-ps
jenkins
flink-processing-cluster-kafka
flink-processing-cluster-zookeepers-ps
zookeeper-ps
redis-ps
druid
secor-1-ps
secor-2-ps
secor-3-ps
redis-metadata-ps
sl-servers
report-cassandra

[node-exporter:children]
core
basic-monitor
swarm-nodes

[core:children]
es
log-es
cassandra
swarm-nodes
swarm-manager
swarm-dashboard
swarm-agent-dashboard
keycloak
process-exporter
redisall
graylog

[env:children]
postgres
log-es
core
# Moving kafka out of core because we don't need monitoring
core
kafka
local
yarn
zookeeper
node-exporter
raw-broker
mongo
mongodb-backup
nodebb-azure-redis
sl-druid
sl-druid-broker
ml-analytics-service

[all:vars]
logger_es6_host="{{ groups['log-es-2'][0] }}" ### Move this to default all.yml after prod deploy #####
cluster_name=Swarm3
ansible_ssh_user=deployer
ansible_ssh_private_key_file=/var/lib/jenkins/secrets/proddeployer_ssh_key
monitor_stateful=true
