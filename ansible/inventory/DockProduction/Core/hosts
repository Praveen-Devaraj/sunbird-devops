####### Data pipeline ##########

[processing-cluster-kafka-1]
11.7.2.15

[processing-cluster-kafka-2]
11.7.2.16

[processing-cluster-kafka-3]
11.7.2.17

[processing-cluster-kafka:children]
processing-cluster-kafka-1
processing-cluster-kafka-2
processing-cluster-kafka-3

[processing-cluster-zookeepers-1]
11.7.2.15

[processing-cluster-zookeepers-2]
11.7.2.16

[processing-cluster-zookeepers-3]
11.7.2.17

[zookeeper:children]
processing-cluster-zookeepers-1
processing-cluster-zookeepers-2
processing-cluster-zookeepers-3

[yarn-master]
11.7.3.6

[yarn-slave]
11.7.3.7
11.7.3.8
11.7.3.9

[yarn:children]
yarn-master
yarn-slave

##########

[learning-neo4j-node1]
11.7.2.10

[learning-neo4j-node2]
11.7.2.11 

[arbiter] ##learning-neo4j-node3
11.7.2.12 dbms_mode=ARBITER

[learning-neo4j-cluster:children]
learning-neo4j-node1
learning-neo4j-node2
arbiter  ##master

[lp-cassandra]
11.7.2.4
11.7.2.5
11.7.2.6

[cassandra-ps:children]
lp-cassandra

#[dp-apilogstash-ps]
#

#[logstash-ps:children]
#dp-apilogstash-ps

#[swarm-manager-1]
# swarm_master=true

#[swarm-manager:children]
#swarm-manager-1

#[swarm-node-1]
#

#[swarm-node-2]
#

#[swarm-worker:children]
#swarm-node-1
#swarm-node-2

[keycloak-1]
11.4.0.26

[keycloak-2]
11.4.0.27

[keycloak:children]
keycloak-1
keycloak-2

[log-es-2] 
11.7.2.14 node_name=log-es-2 es_instance_name=log-es-2 es_etc_node_master=true es_etc_node_data=true

[log-es:children]
log-es-2

[log-es-backup:children]
log-es-2

[influxdb]
11.7.2.9

[lp-composite-ps]
11.7.2.7
11.7.2.18

[composite-search-cluster]
11.7.2.7
11.7.2.18

[cassandra-1] 
11.7.2.4

[cassandra-2] 
11.7.2.5

[cassandra-3] 
11.7.2.6

[cassandra:children]
cassandra-1
cassandra-2
cassandra-3

[kafka-1]
11.7.2.15

[kafka-2]
11.7.2.16

[kafka-3]
11.7.2.17

[kafka:children]
kafka-1
kafka-2
kafka-3

[telemetry-search-cluster-1]
11.7.2.15

[telemetry-search-cluster-2]
11.7.2.16

[telemetry-search-cluster-3]
11.7.2.17

[telemetry-search-cluster:children]
telemetry-search-cluster-1
telemetry-search-cluster-2
telemetry-search-cluster-3

[local]
localhost ansible_connection=local cluster_name=Kubernetes-1

[mlworkbench]
11.7.3.15

[diksha-kafka-ingestion-logstash]
11.4.2.59
11.4.2.60
11.4.2.61
11.4.2.62
11.4.2.63

[sunbird-processing-cluster-kafka]
11.4.2.73
11.4.2.74
11.4.2.75

[redis1:children]
lp-redis-ps

[jenkins-master]
localhost

#[swarm-agent-for-alertmanager:children]
#swarm-agent-for-alertmanager-1

[kong-api]
localhost

[local]
localhost ansible_connection=local cluster_name=Kubernetes-1

#[swarm-bootstrap-manager:children]
#swarm-manager

#[swarm-nodes:children]
#swarm-manager
#swarm-worker
#swarm-bootstrap-manager
#swarm-agent-for-prometheus
#swarm-agent-for-alertmanager

[swarm-bootstrap-manager:children]
mlworkbench


[lp-redis-ps]
11.7.2.13

[redis-ps:children]
lp-redis-ps

[dp-yarn-rm-ps]
11.7.3.6

[dp-yarn-slave-ps]
11.7.3.7
11.7.3.8
11.7.3.9

[lp-search-ps]
11.7.3.5
11.7.3.12

[lp-learning-ps]
11.7.3.4
11.7.3.11

[lp-neo4j-ps]
11.7.2.10
11.7.2.11
11.7.2.12

[dp-secor-ps]
11.7.3.10

[dp-influx-ps]
11.7.2.9

[es7]
11.7.2.8 es_instance_name=es7 es_etc_node_master=true es_etc_node_data=true

[basic-monitor:children]
lp-redis-ps
cassandra-ps
es-ps
lp-neo4j-ps
processing-cluster-kafka
keycloak
yarn
lp-search-ps
lp-learning-ps
dp-secor-ps

## monitor tomcat process
[tomcat-ps:children]
lp-learning-ps

## monitor serach process
[search-ps:children]
lp-search-ps

## monitor neo4j process
[neo4j-ps:children]
dp-neo4j-ps

## monitor elasticsearch process
[es-ps:children]
log-es
es
lp-composite-ps

## monitor yarn process
[yarn-rm-ps:children]
dp-yarn-rm-ps

[yarn-slave-ps:children]
dp-yarn-slave-ps

[yarn-ps:children]
dp-yarn-rm-ps
dp-yarn-slave-ps

## monitor cassandra process
[cassandra-ps:children]
cassandra

## monitor logstash process  # learning, search, neo4j, kafkaindexer
[logstash-ps:children]
lp-learning-ps
lp-search-ps
lp-neo4j-ps

## monitor kafka process
[kafka-ps:children]
kafka

### monitor secor process
[secor-ps:children]
dp-secor-ps

## process exporter monitoring group
[process-exporter:children]
es-ps
yarn-ps
cassandra-ps
logstash-ps
kafka-ps
lp-search-ps
lp-learning-ps
lp-neo4j-ps
redis-ps
secor-ps
lp-redis-ps
mlworkbench
es7

## Add all VMs for basic monitoring
[node-exporter:children]
core
basic-monitor


#[log-forwarder:children]
#swarm-manager
##########################


[core:children]
es-ps
cassandra
yarn
keycloak
process-exporter
swarm-bootstrap-manager
es7
influxdb

[env:children]
core
# Moving kafka out of core because we don't need monitoring
kafka
local
log-es-2
es-ps
lp-search-ps
lp-learning-ps
lp-neo4j-ps
redis-ps

[all:vars]
#cluster_name=Swarm2
ansible_ssh_user=deployer
ansible_ssh_private_key_file=/var/lib/jenkins/secrets/proddeployer_ssh_key
logger_es6_host="{{ groups['log-es-2'][0] }}" #Move this to default all.yml after prod deploy
